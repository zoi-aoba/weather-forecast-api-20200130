# 振り返りシート

## 天気予報APIの選定理由
### APIに求めた条件
* 東京の天気予報を取得することができること
* 東京の過去30日間の気象情報を取得できること(この部分に関しては、武田さんに了解をもらい、元々の仕様から変更した)
* 無料で利用できること、または無料枠を利用して1日1000リクエスト程度できること(開発、テストを考慮)

以上の項目を踏まえて、今回は[Dark Sky API](https://darksky.net/dev)を利用した。

これ以外のAPIについても考慮したが、有料のものが多かったためこのAPIとなった。

## Rspecでその箇所のテストを書いた理由
### 作成したAPIのテスト
天気予報と過去の天気をフロントに渡す部分のテストを記述した。

#### この部分のテストを書いた理由
作成したAPI(controller)や、Routing(routes.rb)に書き換えを行うことが多く、その部分に不安が多く、安全性の担保のためテストを書いた。

## よく書けた所
### RailsでのAPIの作成
* 天気予報と過去の天気を取得し、DBに保存する部分のコードは比較的よく書けているのではないかと思う。しかし、今回のデータ構造については、これが最適であるのか疑問を持っている。

* 天気予報と過去の天気の取得のAPIの稼働率が100%ではないこと、急な仕様の変更があることを踏まえた実装を行なった。

## つまづいた所
### 天気予報APIを利用してデータを取得する部分のテスト
天気予報APIを利用してデータを取得する部分はRequesterモデル内に関数を作成し、その部分で行なっている。天候の取得のためのAPIの変更や、APIの仕様の変更が考えられるため最もテストを行いたい項目であるが、この部分のテストの方法に苦戦し、最終的にテストを書くことができなかった。

### Vue.js
今回Vue.jsを初めて利用した。これまで、素のJavascriptしか利用したことがなかったため、「ディレクティブ」や「コンポーネント」「ライフサイクル」などの言葉の意味がわからず、またそれらの重要性がわからなかった。そのため、事前に想定していたよりもかなり時間がかかってしまった。また、一応は仕様どうり動くが、これがVue.jsの正しい書き方であるかは自信がない。

## その他工夫した所や、何かあれば所管
### 全体を通じて
全体を通じてスケジュールの立て方が甘かった。仕様を初めて見た時、2週間という期間があれば確実に完成させることができると思った。しかし、細かな部分の調整やフロント部分のVue.jsの学習に思いの外時間がかかってしまった。これは完全に見積もりが甘かったことを痛感している。

### 「Gemfile 2.lock」というファイルが出来ている
bundler関連のエラーが発生し、解決する際にGemfile 2.lock」というファイルが出来てしまった。このあたりに関しては知識が足りていないことを実感した。

### Firebaseでの認証
Firebaseでブラウザからページを開く際の認証は行うことが出来たが、直接APIのURLを叩くとデータを取得することが出来てしまう。気になっている部分であるが、解決することは出来なかった。
